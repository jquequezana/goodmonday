- auto_mode = @offer.auto_accept_grounds
= simple_form_for([@user.becomes(User), @offer], :html => {:class => 'form-horizontal' }) do |f|
	.control-group= f.input :title, :input_html => { :class => "span6" }
	.control-group= f.input :url, :input_html => { :class => "span6" }
	-#.control-group= f.association :category, :collection => Category.all
	.control-group= f.input :category, :collection => Category.all, :label_method => :title, :selected => lambda { |v| v.id == f.object.category_id }
	.control-group= f.input :auto_accept_grounds, :as => :boolean
	.auto_mode_fields{:style => auto_mode ? 'display:block' : 'display:none'}
		.control-group= f.input :excepted_categories, :collection => Category.all, :input_html => { :multiple => true, :class => "span6"}
	= f.button :submit, :class => 'btn-primary'
	= link_to 'Cancel', offers_path, :class => "btn btn-danger"

:javascript
	$(document).ready(function() {
		$('#offer_auto_accept_grounds').change(function () {
			var auto_mode = $(this).attr("checked");
			var form = $(this).closest("form");
			var auto_mode_fields = form.find('.auto_mode_fields');
			auto_mode_fields.toggle(auto_mode);
			auto_mode_fields.find('input').prop('disabled', !auto_mode);
			auto_mode_fields.find('select').prop('disabled', !auto_mode);
		});
	});