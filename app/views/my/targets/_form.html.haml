- auto_mode = (@target.confirm_mode==:auto)
= simple_form_for([:my, @offer, @target], :html => {:class => 'form-horizontal' }) do |f|
	.control-group= f.input :title, :input_html => { :class => "span6" }
	.control-group= f.input :confirm_mode, :required => true, :as => :select, :collection => [:auto, :manual], :input_html => { :class => "span6" }
	.manual_mode_fields{:style => auto_mode ? 'display:none' : 'display:block'}
		.control-group= f.input :confirm_url, :input_html => { :class => "span6 manual_mode_input" }, :disabled => auto_mode
		.control-group= f.input :prc_price, :required => true, :as => :decimal, :input_html => { :class => "span6 manual_mode_input" }, :disabled => auto_mode
	.control-group= f.input :fixed_price, :required => true, :as => :decimal, :input_html => { :class => "span6" }
	= f.button :submit, :class => 'btn-primary'
	= link_to 'Cancel', my_offer_targets_path, :class => "btn btn-danger"

:javascript
	$(document).ready(function() {
		$('#target_confirm_mode').change(function () {
			var confirm_mode = $(this).val();
			var auto_mode = (confirm_mode=='auto')
			var form = $(this).closest("form");
			var manual_mode_fields = form.find('.manual_mode_fields');
			manual_mode_fields.toggle(!auto_mode);
			manual_mode_fields.find('input').prop('disabled', auto_mode);
		});
	});